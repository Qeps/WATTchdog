:root{
  /* Dark (default) — charcoal + eco accents */
  --bg-0:#0e1114; --bg-1:#0e1114;    /* jednolite tło */
  --text:#f3f7f8; --muted:#a6b0b8;
  --accent:#22c55e; --accent-2:#f59e0b; --accent-3:#22d3ee;
  --border:rgba(255,255,255,.08);
  --card-grad-0:rgba(20,26,31,.95); --card-grad-1:rgba(16,22,26,.92);
  --row-bg:#11171b;                 /* ZAMIANA: jednolite tło wierszy */
  --input:#0f1418; --ring:rgba(34,197,94,.45);
  --nav-bg:rgba(16,18,22,.75);
  --lead:#dde6ee;
  --shadow:0 10px 30px rgba(0,0,0,.28);
  --toggle-grad-start:#34d399; --toggle-grad-end:#22c55e;
  --toggle-text:#0a1a10; --toggle-shadow:rgba(34,197,94,.32);
  --badge-text:#0a0e0f;
  --send-text:#0a0e0f;
}

/* Light — white + eco accents */
:root[data-theme="light"]{
  --bg-0:#f8fafb; --bg-1:#f8fafb;
  --text:#0f1720; --muted:#5a6774;
  --accent:#16a34a; --accent-2:#d97706; --accent-3:#06b6d4;
  --border:rgba(0,0,0,.08);
  --card-grad-0:#ffffff; --card-grad-1:#f7faf7;
  --row-bg:#ffffff;
  --input:#ffffff; --ring:rgba(22,163,74,.35);
  --nav-bg:rgba(255,255,255,.85);
  --lead:#293640;
  --shadow:0 10px 30px rgba(0,0,0,.12);
  --toggle-grad-start:#166534; --toggle-grad-end:#0b7a3b;
  --toggle-text:#ffffff; --toggle-shadow:rgba(20,83,45,.35);
  --badge-text:#ffffff;
  --send-text:#ffffff;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: Inter, system-ui, Arial, sans-serif;
  background: var(--bg-0);
  color:var(--text);
  position:relative; overflow-x:hidden;
}

/* background glow */
body::before{
  content:""; position:fixed; inset:-20%;
  background:
    radial-gradient(900px 600px at 15% -10%, rgba(34,197,94,.16), transparent 60%),
    radial-gradient(800px 520px at 50% 120%, rgba(245,158,11,.10), transparent 55%),
    radial-gradient(900px 600px at 110% -20%, rgba(34,211,238,.07), transparent 45%);
  filter:blur(60px) saturate(108%);
  pointer-events:none; z-index:-1; opacity:.28;
}
html[data-theme="light"] body::before{
  background:
    radial-gradient(900px 600px at 18% -12%, rgba(22,163,74,.12), transparent 60%),
    radial-gradient(900px 600px at 110% -20%, rgba(6,182,212,.08), transparent 45%),
    radial-gradient(800px 520px at 50% 120%, rgba(217,119,6,.08), transparent 55%);
  filter:blur(48px) saturate(110%); opacity:.35;
}

/* micro noise */
body::after{
  content:""; position:fixed; inset:0;
  background-image:url("data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'> <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/></filter> <rect width='100%' height='100%' filter='url(#n)' opacity='0.012'/></svg>");
  pointer-events:none; z-index:-1;
}

/* NAV */
.navbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 28px; background:var(--nav-bg); backdrop-filter:blur(8px);
  border-bottom:1px solid var(--border);
}
.brand{font-weight:800; letter-spacing:.5px}
.menu{ margin-left:auto; padding-right:6px; display:flex; align-items:center; }
.menu a{
  color:var(--muted); text-decoration:none; margin-left:22px; padding:8px 10px;
  border-radius:10px; transition:.2s;
}
.menu a:hover, .menu a.active{color:var(--text); background:rgba(0,0,0,.06)}
:root[data-theme="light"] .menu a:hover,
:root[data-theme="light"] .menu a.active{ background:rgba(0,0,0,.06) }

/* Buttons */
.btn{
  border:1px solid var(--border); background:transparent; color:var(--text);
  padding:10px 14px; border-radius:12px; cursor:pointer; text-decoration:none; display:inline-block;
  transition:.15s;
}
.btn:hover{ filter:brightness(1.06) }
.btn.primary{
  background:linear-gradient(90deg, var(--accent), color-mix(in srgb, var(--accent) 70%, #fff 30%));
  border-color:transparent; box-shadow:0 6px 20px color-mix(in srgb, var(--accent) 35%, transparent);
}
.theme-toggle{
  margin-left:18px; padding:10px 18px; font-size:14px; font-weight:700;
  border-radius:999px; border:1px solid var(--border);
  background:linear-gradient(90deg, var(--toggle-grad-start), var(--toggle-grad-end));
  color:var(--toggle-text);
  box-shadow:0 6px 18px var(--toggle-shadow);
  transition:transform .12s, filter .12s, box-shadow .12s;
}
.theme-toggle:hover{ filter:brightness(1.03); transform:translateY(-1px); }
.theme-toggle:active{ transform:translateY(0); }
.theme-toggle:focus-visible{ outline:none; box-shadow:0 0 0 3px var(--ring); }

/* LAYOUT */
.container{max-width:1100px; margin:28px auto; padding:0 16px}
.section{display:none; animation:fade .2s ease}
.section.visible{display:block}
@keyframes fade{from{opacity:.6; transform:translateY(4px)} to{opacity:1; transform:none}}

/* Device Configuration: panels bigger gap*/
.grid.two{
  display:grid;
  grid-template-columns:1fr;
  gap:32px;
}
@media (min-width:900px){ .grid.two{ grid-template-columns:1fr !important; } }
#section-config .card + .card{ margin-top:24px; }

/* HERO */
.hero{
  background:
    linear-gradient(180deg, rgba(255,255,255,.05), transparent 60%),
    linear-gradient(90deg, color-mix(in srgb, var(--accent) 28%, transparent),
                         color-mix(in srgb, var(--accent-2) 26%, transparent));
  border:1px solid var(--border); border-radius:20px; padding:28px; box-shadow:var(--shadow);
}
.hero h1{margin:0 0 8px 0; font-size:40px}
.motto{color:var(--accent); margin:0 0 14px 0; font-weight:600}
.lead{color:var(--lead); line-height:1.6}
.hero-actions{margin-top:18px; display:flex; gap:12px; flex-wrap:wrap}

/* CARDS */
.card{
  position:relative;
  background:linear-gradient(180deg, var(--card-grad-0), var(--card-grad-1));
  border:1px solid var(--border); border-radius:16px; padding:18px;
  box-shadow:0 8px 24px rgba(0,0,0,.28), inset 0 1px rgba(255,255,255,.04);
}
.card::before{
  content:""; position:absolute; inset:0; border-radius:inherit;
  background:radial-gradient(120% 90% at 50% -20%, rgba(255,255,255,.05), transparent 60%);
  pointer-events:none;
}

/* FORM ELEMENTS */
textarea, input, select{
  width:100%; background:var(--input); color:var(--text);
  border:1px solid var(--border); border-radius:10px; padding:10px; outline:none;
  transition:box-shadow .15s, border-color .15s, background .15s;
}
textarea{min-height:120px}
textarea:focus, input:focus, select:focus{
  border-color:color-mix(in srgb, var(--accent) 60%, #fff 40%);
  box-shadow:0 0 0 2px var(--ring);
}
select{appearance:none}

.row{display:flex; align-items:center; gap:10px; margin-top:10px}
.row.end{justify-content:flex-end}

/* LIVE messages */
.messages{ display:flex; flex-direction:column; gap:8px; max-height:360px; overflow:auto }
.messages .item{
  border:1px solid var(--border); background:var(--input); padding:10px; border-radius:10px;
  white-space:pre-wrap; word-break:break-word;
}

/* Recipients grid */
.mini-grid{ display:grid; grid-template-columns:repeat(3, 1fr); gap:10px }
.mini-grid label{ font-size:12px; color:var(--muted); display:flex; flex-direction:column; gap:6px }

/* Footer */
.footer{
  margin:30px auto; max-width:1100px; padding:10px 16px; color:var(--muted);
  display:flex; gap:10px; border-top:1px solid var(--border);
}

/* Device bar */
.device-bar{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin:8px 0 18px }
.device-id{ display:flex; align-items:center; gap:10px; font-size:16px }
.badge{
  background:linear-gradient(90deg, var(--accent), var(--accent-2));
  color:var(--badge-text);
  font-weight:700; padding:4px 10px;
  border-radius:999px; border:1px solid var(--border);
}

/* Send configuration - theme color */
#sendConfigBtn{
  color: var(--send-text) !important;
}

/* Events table */
.events-header{
  display:grid; grid-template-columns:40px 1fr 1fr 90px 90px; gap:10px;
  color:var(--muted); font-size:12px; margin:8px 0 6px; padding:0 6px; opacity:.9;
}
.events-editor{ display:flex; flex-direction:column; gap:10px }
.events-row{
  display:grid; grid-template-columns:40px 1fr 1fr 90px 90px; gap:10px; align-items:center;
  background:var(--row-bg);
  border:1px solid var(--border); padding:10px; border-radius:10px;
  box-shadow:inset 0 1px rgba(255,255,255,.04);
}
:root[data-theme="light"] .events-row{
  box-shadow: inset 0 1px rgba(255,255,255,.6);
}
.events-row .idx{ text-align:center; color:var(--muted) }
.events-row .ck{ display:flex; align-items:center; gap:6px; justify-content:center }

/* native checkbox accent */
input[type="checkbox"]{ accent-color:var(--accent) }

@media (max-width: 860px){
  .events-header{ display:none }
  .events-row{ grid-template-columns:40px 1fr; grid-template-rows:auto auto auto }
  .events-row .trigger{ grid-column: 2 / -1 }
  .events-row .ck.sms{ grid-column: 2 / -1; justify-content:flex-start }
  .events-row .ck.email{ grid-column: 2 / -1; justify-content:flex-start }
}